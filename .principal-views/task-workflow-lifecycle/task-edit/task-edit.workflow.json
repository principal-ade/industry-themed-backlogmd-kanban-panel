{
  "version": "1.0.0",
  "canvas": ".principal-views/task-workflow-lifecycle/task-workflow-lifecycle.otel.canvas",
  "name": "Task Edit",
  "description": "Editing a task via the task modal or drag-and-drop",
  "spanPattern": "task.edit",
  "mode": "span-tree",
  "scenarios": [
    {
      "id": "drag-completed",
      "priority": 1,
      "description": "Task dragged and dropped successfully",
      "template": {
        "events": {
          "task.drag.started": "ğŸ¯ Started dragging {{task.id}} from {{from.status}}",
          "task.moved": "ğŸ“¦ Dropped in {{to.status}}",
          "task.updated": "ğŸ’¾ Status persisted"
        },
        "summary": "âœ… Moved: {{from.status}} â†’ {{to.status}}"
      }
    },
    {
      "id": "drag-cancelled",
      "priority": 2,
      "description": "Drag operation cancelled",
      "template": {
        "events": {
          "task.drag.started": "ğŸ¯ Started dragging {{task.id}} from {{from.status}}",
          "task.drag.cancelled": "â†©ï¸ Drag cancelled"
        },
        "summary": "â†©ï¸ Drag cancelled"
      }
    },
    {
      "id": "modal-success",
      "priority": 3,
      "description": "Task edited successfully via modal",
      "template": {
        "events": {
          "task.selected": "ğŸ‘† Selected task {{task.id}}",
          "modal.opened": "ğŸ“ Edit modal opened for {{task.id}}",
          "task.updated": "âœï¸ Updated task{{#if updated.fields}} ({{updated.fields}}){{/if}}",
          "kanban.loaded": "ğŸ”„ Board refreshed"
        },
        "summary": "âœ… Task edited: {{task.id}}"
      }
    },
    {
      "id": "modal-error",
      "priority": 4,
      "description": "Failed to save task edits via modal",
      "template": {
        "events": {
          "task.selected": "ğŸ‘† Selected task {{task.id}}",
          "modal.opened": "ğŸ“ Edit modal opened",
          "task.updated": "âœï¸ Attempted to update task",
          "task.save.error": "âŒ Save failed: {{error.type}} - {{error.message}}"
        },
        "summary": "âŒ Edit failed: {{error.type}}"
      }
    },
    {
      "id": "modal-cancelled",
      "priority": 5,
      "description": "User cancelled task edit via modal",
      "template": {
        "events": {
          "task.selected": "ğŸ‘† Selected task {{task.id}}",
          "modal.opened": "ğŸ“ Edit modal opened",
          "modal.cancelled": "âŒ Edit cancelled{{#if had.changes}} (discarded changes){{/if}}"
        },
        "summary": "âŒ Edit cancelled"
      }
    }
  ]
}
